Техническое задание для Telegram-бота проекта PRYTON
1. Регистрация участников
    • Команда /start
    • Сбор:
    • - Имя / Ник
    • - Телефон (по желанию)
    • - Район
    • - Роль по умолчанию (игрок / водитель / наблюдатель)
    • - Подтверждение согласия с правилами
2. Создание и запись на игры
    • - Список предстоящих игр
    • - Возможность записаться на конкретную игру
    • - Ограничение по количеству (например, 10 человек)
    • Отображение статуса:
    • - Набираем
    • - Игра скоро
    • - Игра завершена
3. Автоматическое распределение ролей
    • После сбора 10 участников:
    • - Рандомайзер выбирает 1 «водилу», 9 «искателей»
    • - Рассылка ролей в личку игрокам
    • - Возможность пересдачи ролей админом в экстренных случаях
4. Геотрекинг (локатор)
    • При старте игры:
    • - Бот просит разрешение на отправку геопозиции
    • Логика:
    • - Игроки должны находиться в пределах заданной зоны
    • - Уведомление при выходе из зоны
    • - Локации отображаются в админ-панели
    • - Фиксация геолокации в определённые моменты (чекпоинты, финиш)
5. Таймер старта и статусы
    • После записи:
    • - Игроки получают обратный отсчёт до начала игры
    • - Уведомление «Старт!»
    • После окончания — кнопка:
    • - «Я нашёл машину» (искатель)
    • - «Меня нашли» (водила)
    • Бот фиксирует и сохраняет финал
6. Админ-панель
    • - Создание новой игры
    • Редактирование параметров:
    • - Район, время, лимит
    • - Просмотр участников
    • - Ручное назначение ролей
    • - Завершение игры вручную
    • - Отчёт об игре (статистика, победители)
7. Уведомления
    • - Запись на игру — подтверждение
    • Напоминания:
    • - За 24 часа
    • - За 1 час
    • - За 5 минут
    • - Уведомление о начале
    • - Итоги игры / победитель
8. Хранилище данных
    • - База участников (ID, имя, район, история игр)
    • - База игр (дата, состав, роли, результат)
    • - История ролей и поведения игроков
    • - Хранение геометок и времени фиксации (для отчётов)
ДОПОЛНИТЕЛЬНЫЙ ФУНКЦИОНАЛ: ВРЕМЯ НА ПРЯТКИ + ФОТО-КОНТРОЛЬ
9. Таймер на прятки — 30 минут до начала погони
    • После распределения ролей:
    • Все игроки получают сообщение:
    • - «У вас 30 минут, чтобы спрятаться. Отправьте фото своей прятки, когда будете готовы.»
    • Таймер обратного отсчёта:
    • - У игроков отображается, сколько времени осталось
    • У «водилы» — отдельный таймер:
    • - «Жди 30 минут, прежде чем начать поиск»
    • После 30 минут:
    • - Игрокам больше нельзя отправлять фото
    • Водила получает сообщение:
    • - «Время вышло. Можешь начинать охоту!»
10. Фотофиксация прятки
    • У каждого искателя появляется кнопка:
    • - «Я спрятался — отправить фото»
    • Бот запрашивает:
    • - 1 фото укрытия
    • - (по желанию) короткое описание или координаты
    • Фото автоматически отправляется в:
    • - Отдельный чат / канал для админа
    • Или в админ-панель со статусом:
    • - ✅ Принято
    • - ❌ Отклонено (в случае нарушений)
    • !добавить автоматическое сообщение админу: «Игрок @nickname отправил фото прятки»
11. Контроль выполнения
    • Если игрок не отправил фото до конца 30 минут:
    • - Бот присылает напоминание за 5 минут до окончания
    • - Админ видит в списке статусов: кто спрятался, кто нет
    • - Можно ввести автоисключение или предупреждение